<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Macronutrient Explorer</title>
  <link rel="stylesheet" href="css/polish_style.css" />
</head>

<body>
  <header class="page-header">
    <h1>Macronutrient Explorer</h1>
    <p class="description">Explore suggested nutrient intake based on your profile and sport preferences</p>
  </header>

  <div class="main-container">
    <!-- LEFT COLUMN: Avatar + Profile + Pie Chart -->
    <div class="left-column">
      <!-- Avatar & Profile Info Card -->
      <div class="card profile-section">
        <div class="avatar-container">
          <svg id="profile-avatar-svg" width="240" height="360" viewBox="0 0 240 360"></svg>
        </div>
        <div class="profile-details">
          <h2>Your Profile</h2>
          <div class="profile-stats">
            <div class="profile-stat">
              <span class="profile-stat-label">Gender</span>
              <span class="profile-stat-value" id="profile-gender">-</span>
            </div>
            <div class="profile-stat">
              <span class="profile-stat-label">Height</span>
              <span class="profile-stat-value" id="profile-height">-</span>
            </div>
            <div class="profile-stat">
              <span class="profile-stat-label">Weight</span>
              <span class="profile-stat-value" id="profile-weight">-</span>
            </div>
          </div>
          <button class="edit-profile-btn" id="edit-profile-btn">
            <span>‚úèÔ∏è</span> Edit Profile
          </button>
        </div>
      </div>

      <!-- Pie Chart Card -->
      <div class="card chart-section">
        <h3 class="chart-title">Macronutrient Distribution</h3>
        <div id="donutCard" class="chart-wrapper">
          <div id="donutRoot" class="viz-root" aria-label="Donut chart"></div>
        </div>
        <div id="histCard" class="chart-wrapper hidden">
          <div id="histRoot" class="viz-root" aria-label="Histogram"></div>
        </div>
      </div>
    </div>

    <!-- RIGHT COLUMN: Controls -->
    <div class="right-column">
      <!-- Sport Filter Card -->
      <div class="card control-card">
        <h3 class="control-title">Sport Filter</h3>
        <div class="control-content">
          <label for="sportSelect" class="control-label-inline">Select Sport</label>
          <select id="sportSelect" class="control-select"></select>
        </div>
      </div>

      <!-- Aggregation Options Card -->
      <div class="card control-card">
        <h3 class="control-title">Analysis Options</h3>
        <div id="aggPanel" class="control-content"></div>
      </div>

      <!-- Action Buttons Card -->
      <div class="card control-card">
        <h3 class="control-title">Actions</h3>
        <div class="button-group">
          <button id="backBtn" class="action-btn secondary-btn" disabled>
            <span>‚Üê</span> Back
          </button>
          <button id="resetBtn" class="action-btn primary-btn">
            <span>‚Üª</span> Reset Filters
          </button>
        </div>
      </div>

      <!-- Info Card -->
      <div class="card info-card">
        <h3 class="info-title">üí° How to Use</h3>
        <ul class="info-list">
          <li>Select a sport to filter the data</li>
          <li>Hover over chart sections for details</li>
          <li>Click on a section to view distribution</li>
          <li>Use the back button to return to overview</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Hidden controls for compatibility -->
  <div style="display: none;">
    <div id="heightBrushRoot"></div>
    <div id="weightBrushRoot"></div>
    <span id="heightVal"></span>
    <span id="weightVal"></span>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="js/main.js"></script>
</body>

</html>
